app.post('/login', (req, res) => {
  const { username, password } = req.body;

  // Éviter injection : filtrage basique
  const cleanUsername = username.replace(/[^a-zA-Z0-9]/g, '');
  const cleanPassword = password.replace(/[^a-zA-Z0-9]/g, '');

  const user = users.find(u => u.username === cleanUsername && u.password === cleanPassword);
  if (user) {
    req.session.user = user;
    res.redirect('/dashboard');
  } else {
    res.send('Login échoué');
  }
});
